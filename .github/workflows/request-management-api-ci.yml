name: Request Management API CI


on:
  pull_request:
    branches:
      - main
    paths:
      - "request-management-api/**"
  # Remove entire push section when done testing
  push:
    branches: 
      - dev-AC-109

defaults:
  run:
    shell: bash
    working-directory: ./request-management-api

jobs:
  setup-job:
    runs-on: ubuntu-20.04

    if: github.repository == 'bcgov/foi-flow'

    steps:
      - uses: actions/checkout@v2
      - run: "true"

  docker-build-check:
    runs-on: ubuntu-20.04
    name: Build dockerfile to ensure it works
    # unsure if setup-job below is necessary
    # needs: setup-job

    steps:
      - uses: actions/checkout@v2
      - name: docker build to check strictness
        id: docker-build
        run: |
          docker build -f dockerfile.local .

     

