version: '3'
services:  
  BACKEND:
    build:
      context: ./      
      dockerfile: request-management-api/dockerfile
    image: foirequestsbackendimage
    container_name: aot_foi_requests_backend_api
    depends_on: 
      - foi-requests-DB     
    networks:
      services-network:
        aliases:
          - backendnw
    ports:
      - 5000:5000
    environment:
      - DATABASE_USERNAME=
      - DATABASE_PASSWORD=
      - DATABASE_NAME=
      - DATABASE_HOST=foi-requests-DB 
      - DATABASE_PORT=
      - FLASK_ENV:production
  foi-requests-DB:
    image: postgres
    container_name: aot_foi_requests_db_pg
    ports:
      - "5432:5432"
    environment:
      - POSTGRES_USER=
      - POSTGRES_PASSWORD=
    networks:
      services-network:
        aliases:
          - db   
volumes:
  dbdata:
networks:
  services-network:    
    driver: bridge
